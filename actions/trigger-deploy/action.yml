name: Trigger Deployment
description: 'Trigger an application deployment by dispatching an event to `cru-deploy` repo.'
inputs:
  project-name:
    description: Project name.
    required: true
  environment:
    description: Environment (staging/production).
    required: true
  build-number:
    description: Build number.
    required: true
  type:
    description: Deployment type
    required: false
    default: ECS_V1
  github-token:
    description: The GitHub token used to create a workflow_dispatch event.
    default: ${{ secrets.CRU_DEPLOY_GITHUB_TOKEN }}
    required: false
runs:
  using: 'node16'
  main: '../../dist/trigger-deploy.js'
